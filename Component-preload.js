jQuery.sap.registerPreloadedModules({version:"2.0",name:"ZHR_TIMESHEET_UI5/Component-preload",modules:{"ZHR_TIMESHEET_UI5/Component.js":'sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","ZHR_TIMESHEET_UI5/model/models","sap/ui/model/json/JSONModel"],function(e,i,t,o){"use strict";return e.extend("ZHR_TIMESHEET_UI5.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments),this.setModel(t.createDeviceModel(),"device"),this.getRouter().initialize()}})});',
"ZHR_TIMESHEET_UI5/controller/Master.controller.js":'jQuery.sap.require("ZHR_TIMESHEET_UI5.utils.DataManager"),jQuery.sap.require("ZHR_TIMESHEET_UI5.utils.UIHelper"),sap.ui.define(["jquery.sap.global","sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/core/routing/History"],function(jQuery,Controller,MessageBox,Filter,History){"use strict";return Controller.extend("ZHR_TIMESHEET_UI5.controller.Master",{onInit:function(){window.change="0",window.first="1";var view=this.getView();window.view=view,this._oBusyDialog=new sap.m.BusyDialog,this._oBusyDialog.open();var that=this,oModel=new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZHR_TIMESHEET_UI5_SRV/",!1);ZHR_TIMESHEET_UI5.utils.DataManager.init(oModel," "),ZHR_TIMESHEET_UI5.utils.UIHelper.setControllerInstance(this),oModel.attachRequestCompleted(function(oEvent){if(oEvent.getParameters().success){var data=view.getBindingContext().getObject();window.data=data;var calendar=view.byId("weeklyCalendar"),dateFormat=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-dd"}),date=dateFormat.format(new Date(data.Dte)),begda=dateFormat.format(new Date(data.Spbeg)),endda=dateFormat.format(new Date(data.Spend));if("1"===window.first){var s=new Date,sb,se,diffDays=parseInt((that.getUiDate(endda)-that.getUiDate(s))/864e5);diffDays>=14?(sb=new Date(begda),se=that.manipulateDate(sb,13,"add")):(se=new Date(endda),sb=that.manipulateDate(se,13,"sub")),calendar.removeAllSelectedDates();var dateMx=dateFormat.format(new Date(data.Maxdate)),dateMn=dateFormat.format(new Date(data.Mindate)),mx=Date.parse(dateMx),mn=Date.parse(dateMn),dMx=new Date(mx),dMn=new Date(mn);calendar.setMaxDate(dMx),calendar.setMinDate(dMn),calendar.focusDate(s),calendar.insertSelectedDate(new sap.ui.unified.DateTypeRange({startDate:s})),+dMn<=+sb?calendar.setStartDate(sb):calendar.setStartDate(dMn);var dateFormat1=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-ddTHH:mm:ss"});window.legbeg=dateFormat1.format(new Date(sb)),window.legend=dateFormat1.format(new Date(se)),window.first="2"}else{var selectedDates=window.calendar.getSelectedDates(),len=selectedDates.length;if(len>0&&(len-=1),selectedDates.length>=1)var sdate=selectedDates[len].getStartDate();var sb1;if(data.Dte===data.Spbeg)sb1=data.Dte;else{var days=parseInt((that.getUiDate(data.Spend)-that.getUiDate(data.Dte))/864e5);if(days>=14)sb1=data.Spbeg;else{var se1=new Date(data.Spend);sb1=that.manipulateDate(se1,13,"sub")}}if(sb1){calendar.removeAllSelectedDates();var spbegda=dateFormat.format(new Date(sb1)),m1=Date.parse(spbegda),d1=new Date(m1);calendar.setStartDate(d1);var m2=Date.parse(data.Dte),d2=new Date(m2);calendar.focusDate(d2),calendar.insertSelectedDate(new sap.ui.unified.DateTypeRange({startDate:d2}))}}var path="/WorkScheduleSet(Pernr=\'"+window.data.Pernr+"\',Begda=datetime\'"+window.legbeg+"\',Endda=datetime\'"+window.legend+"\')";oModel.read(path,null,null,!0,function(oData,oResponse){if(window.calendar){window.calendar.removeAllSpecialDates(),window.calendar.destroySpecialDates();var selectedDates=window.calendar.getSelectedDates()}for(var i=1;i<15;i++){i<10&&(i="0"+i);var dt;dt="oData.Dte"+i;var oRefDate=new Date(eval(dt));calendar.removeSpecialDate(oRefDate);var tp="oData.Tooltip"+i;tp=eval(tp);var sType=sap.ui.unified.CalendarDayType.Type05,wk="oData.Wknd"+i;wk=eval(wk);var ph="oData.Phl"+i;ph=eval(ph);var lv="oData.Lve"+i;lv=eval(lv);var lvapp="oData.Lveapp"+i;lvapp=eval(lvapp);var ptnwday="oData.Ptnwday"+i;ptnwday=eval(ptnwday);var hda="oData.Hda"+i;hda=eval(hda);var approvedhda="oData.Approvedhda"+i;approvedhda=eval(approvedhda);var noFlex="oData.Noflex"+i;noFlex=eval(noFlex);var mDay="oData.Missingday"+i;mDay=eval(mDay),"X"===lv&&(sType=sap.ui.unified.CalendarDayType.Type03),"X"===lvapp&&(sType=sap.ui.unified.CalendarDayType.Type08),"X"!==hda&&"X"!==approvedhda&&"X"!==noFlex||(sType=sap.ui.unified.CalendarDayType.Type02),"X"===mDay&&(sType=sap.ui.unified.CalendarDayType.Type10),"X"===ptnwday&&(sType=sap.ui.unified.CalendarDayType.Type06),"X"===ph&&(sType=sap.ui.unified.CalendarDayType.Type01);var len=selectedDates.length;if(len>0&&(len-=1),selectedDates.length>=1){var sdate=selectedDates[len].getStartDate();sdate.setHours(0,0,0,0)===oRefDate.setHours(0,0,0,0)&&(sType=sap.ui.unified.CalendarDayType.Type05)}sType!==sap.ui.unified.CalendarDayType.Type05&&calendar.addSpecialDate(new sap.ui.unified.DateTypeRange({startDate:new Date(oRefDate),type:sType,tooltip:tp}))}}),view.getController().loadData(data),that._oBusyDialog.close()}else{var dateFormat2=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-dd"}),date3=dateFormat2.format(new Date),m3=Date.parse(date3),d3=new Date(m3);window.calendar.setStartDate(d3);var object=oEvent.getParameters().errorobject,message=$(object.responseText).find("message").first().text(),code=$(object.responseText).find("code").first().text(),oSubDialog1=new sap.m.Dialog({title:"Not Found!",type:"Message",state:"Error",content:[new sap.m.Text({text:message})]});oSubDialog1.open(),oSubDialog1.addButton(new sap.m.Button({text:"OK",press:function(){if(oSubDialog1.close(),oSubDialog1.destroyContent(),that._oBusyDialog&&that._oBusyDialog.close(),"ZHR_TS/001"===code)that.getView().byId("timesheetpage").destroyContent(),that.getView().byId("timesheetpage").destroyFooter(),that.onNavBack();else{var e="/TimesheetSet(Pernr=\'"+window.data.Pernr+"\',Subty=\'"+window.data.Subty+"\',Objps=\'"+window.data.Objps+"\',Begda=datetime\'"+window.data.Begda+"\',Endda=datetime\'"+window.data.Endda+"\',Sprps=\'"+window.data.Sprps+"\',Seqnr=\'"+window.data.Seqnr+"\',Dte=datetime\'"+window.data.Dte+"\')";window.view.getController().Read(e)}}})),that._oBusyDialog&&that._oBusyDialog.close()}}),that._oBusyDialog&&that._oBusyDialog.close(),this.getView().setModel(oModel);var oDate=new Date,dateFormat=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-ddTHH:mm:ss"}),date=dateFormat.format(new Date(oDate)),pernr="00000000",subty="00",objps="",begda=date,endda=date,sprps="",seqnr="000",day=date,sEntityPath="/TimesheetSet(Pernr=\'"+pernr+"\',Subty=\'"+subty+"\',Objps=\'"+objps+"\',Begda=datetime\'"+begda+"\',Endda=datetime\'"+endda+"\',Sprps=\'"+sprps+"\',Seqnr=\'"+seqnr+"\',Dte=datetime\'"+day+"\')";view.bindElement(sEntityPath),window.path=sEntityPath,window.headerTxt=this.getView().byId("idAttndHeader1"),window.attndTxt=this.getView().byId("AttndTxt"),window.labelbalAdj=this.getView().byId("label2"),window.balAdj=this.getView().byId("idBalAdj").setEnabled(!0),this.getView().byId("btnNeg").setVisible(!0),this.getView().byId("btnPos").setVisible(!0),window.cashO=this.getView().byId("idCashO").setEnabled(!0),window.labelemp=this.getView().byId("label4"),window.empcomm=this.getView().byId("idEmpComm"),window.supcomm=this.getView().byId("idSupComm").setEnabled(!1),window.sup=this.getView().byId("idSuper"),window.labelsup=this.getView().byId("label6"),window.flx=this.getView().byId("idFlxText"),window.pts=this.getView().byId("idPtswap"),window.beg1=this.getView().byId("idBeg1"),window.end1=this.getView().byId("idEnd1"),window.beg2=this.getView().byId("idBeg2"),window.end2=this.getView().byId("idEnd2"),window.beg3=this.getView().byId("idBeg3"),window.end3=this.getView().byId("idEnd3"),window.beg4=this.getView().byId("idBeg4"),window.end4=this.getView().byId("idEnd4"),window.btnadd1=this.getView().byId("btnAdd1"),window.btndel1=this.getView().byId("btnDel1"),window.blankln2=this.getView().byId("idBlankln2"),window.btnadd2=this.getView().byId("btnAdd2"),window.btndel2=this.getView().byId("btnDel2"),window.blankln3=this.getView().byId("idBlankln3"),window.btnadd3=this.getView().byId("btnAdd3"),window.btndel3=this.getView().byId("btnDel3"),window.blankln4=this.getView().byId("idBlankln4"),window.btndel4=this.getView().byId("btnDel4"),window.abs=this.getView().byId("idAbs"),window.labs=this.getView().byId("idAbsl"),window.calendar=this.getView().byId("weeklyCalendar"),window.save=this.getView().byId("idSave"),window.submit=this.getView().byId("idSubmit"),window.legend=this.getView().byId("idLegend"),window.lve=this.getView().byId("idLve"),window.std=this.getView().byId("idStd"),window.tot=this.getView().byId("idTot"),window.flxb=this.getView().byId("idFlxbal"),window.oth=this.getView().byId("idOth"),window.loth=this.getView().byId("idOthl"),window.casho=this.getView().byId("idCashOut"),this.multipleEventsSetToFalse(),window.legend.addItem(new sap.ui.unified.CalendarLegendItem({text:"Public Holiday",type:sap.ui.unified.CalendarDayType.Type01})),window.legend.addItem(new sap.ui.unified.CalendarLegendItem({text:"Part Time Non Working Day",type:sap.ui.unified.CalendarDayType.Type06})),window.legend.addItem(new sap.ui.unified.CalendarLegendItem({text:"UnApproved Leave",type:sap.ui.unified.CalendarDayType.Type03})),window.legend.addItem(new sap.ui.unified.CalendarLegendItem({text:"Approved Leave",type:sap.ui.unified.CalendarDayType.Type08})),window.legend.addItem(new sap.ui.unified.CalendarLegendItem({text:"No Flex Accrual",type:sap.ui.unified.CalendarDayType.Type02})),window.legend.addItem(new sap.ui.unified.CalendarLegendItem({text:"Action Required",type:sap.ui.unified.CalendarDayType.Type10})),window.header2=this.getView().byId("idHeader2")},manipulateDate:function(e,t,i){var a=864e5*t,n=new Date;return"sub"===i?n.setTime(e.getTime()-a):"add"===i&&n.setTime(e.getTime()+a),n},handleAddbreak1:function(){if(!0===this.checkInputTimes(1)||""===this.checkInputTimes(1)){var e=window.beg1.getValue(),t=window.end1.getValue();if(e&&t)window.beg2.setValue(""),window.end2.setValue(""),window.beg2.setValueState(sap.ui.core.ValueState.None),window.end2.setValueState(sap.ui.core.ValueState.None),window.view.getController().showTimes2(),window.btnadd1.setVisible(!1),window.btnadd2.setEnabled(!0),window.flag1=1;else{var i=new sap.m.Dialog({title:"Not Allowed!",type:"Message",state:"Error",content:[new sap.m.Text({text:"Please Enter Start and End Times, before adding another Row!"})]});i.open(),i.addButton(new sap.m.Button({text:"OK",press:function(){i.close()}}))}}},handleDelbreak1:function(){var e=window.beg1.getValue(),t=window.end1.getValue();if(""!==e||""!==t)if(window.beg2.getValue()){var i=window.beg2.getValue(),a=window.end2.getValue();if(window.beg1.setValue(i),window.end1.setValue(a),window.beg3.getValue()){var n=window.beg3.getValue(),s=window.end3.getValue();if(window.beg2.setValue(n),window.end2.setValue(s),window.beg4.getValue()){var d=window.beg4.getValue(),o=window.end4.getValue();window.beg3.setValue(d),window.end3.setValue(o),window.view.getController().hideTimes4(),window.btnadd3.setVisible(!0),window.beg4.setValue(""),window.end4.setValue(""),window.beg4.setValueState(sap.ui.core.ValueState.None),window.end4.setValueState(sap.ui.core.ValueState.None),window.flag4=0}else window.view.getController().hideTimes3(),window.view.getController().hideTimes4(),window.btnadd2.setVisible(!0),window.beg3.setValue(""),window.end3.setValue(""),window.beg3.setValueState(sap.ui.core.ValueState.None),window.end3.setValueState(sap.ui.core.ValueState.None),window.flag3=0}else window.view.getController().hideTimes2(),window.view.getController().hideTimes3(),window.btnadd1.setVisible(!0),window.beg2.setValue(""),window.end2.setValue(""),window.beg2.setValueState(sap.ui.core.ValueState.None),window.end2.setValueState(sap.ui.core.ValueState.None),window.flag2=0}else window.beg1.setValue(""),window.end1.setValue(""),window.beg1.setValueState(sap.ui.core.ValueState.None),window.end1.setValueState(sap.ui.core.ValueState.None),window.view.getController().hideTimes2(),window.btnadd1.setVisible(!0);this.handleAutoSave(1)},handleAddbreak2:function(){if(!0===this.checkInputTimes(2)||""===this.checkInputTimes(2)){var e=window.beg2.getValue(),t=window.end2.getValue();if(e&&t)window.beg3.setValue(""),window.end3.setValue(""),window.beg3.setValueState(sap.ui.core.ValueState.None),window.end3.setValueState(sap.ui.core.ValueState.None),window.view.getController().showTimes3(),window.btnadd2.setVisible(!1),window.btnadd3.setEnabled(!0),window.flag2=1;else{var i=new sap.m.Dialog({title:"Not Allowed!",type:"Message",state:"Error",content:[new sap.m.Text({text:"Please Enter Start and End Times, before adding another Row!"})]});i.open(),i.addButton(new sap.m.Button({text:"OK",press:function(){i.close()}}))}}},handleDelbreak2:function(){if(window.beg3.getValue()){var e=window.beg3.getValue(),t=window.end3.getValue();if(window.beg2.setValue(e),window.end2.setValue(t),window.beg4.getValue()){var i=window.beg4.getValue(),a=window.end4.getValue();window.beg3.setValue(i),window.end3.setValue(a),window.view.getController().hideTimes4(),window.btnadd3.setVisible(!0),window.beg4.setValue(""),window.end4.setValue(""),window.beg4.setValueState(sap.ui.core.ValueState.None),window.end4.setValueState(sap.ui.core.ValueState.None),window.flag4=0}else window.view.getController().hideTimes3(),window.view.getController().hideTimes4(),window.btnadd2.setVisible(!0),window.beg3.setValue(""),window.end3.setValue(""),window.beg3.setValueState(sap.ui.core.ValueState.None),window.end3.setValueState(sap.ui.core.ValueState.None),window.flag3=0}else window.view.getController().hideTimes2(),window.view.getController().hideTimes3(),window.btnadd1.setVisible(!0),window.beg2.setValue(""),window.end2.setValue(""),window.beg2.setValueState(sap.ui.core.ValueState.None),window.end2.setValueState(sap.ui.core.ValueState.None),window.flag2=0;this.handleAutoSave(1)},handleAddbreak3:function(){if(!0===this.checkInputTimes(3)||""===this.checkInputTimes(3)){var e=window.beg3.getValue(),t=window.end3.getValue();if(e&&t)window.beg4.setValue(""),window.end4.setValue(""),window.view.getController().showTimes4(),window.btnadd3.setVisible(!1),window.flag3=1;else{var i=new sap.m.Dialog({title:"Not Allowed!",type:"Message",state:"Error",content:[new sap.m.Text({text:"Please Enter Start and End Times, before adding another Row!"})]});i.open(),i.addButton(new sap.m.Button({text:"OK",press:function(){i.close()}}))}}},handleDelbreak3:function(){if(window.beg4.getValue()){var e=window.beg4.getValue(),t=window.end4.getValue();window.beg3.setValue(e),window.end3.setValue(t),window.view.getController().hideTimes4(),window.btnadd3.setVisible(!0),window.beg4.setValue(""),window.end4.setValue(""),window.beg4.setValueState(sap.ui.core.ValueState.None),window.end4.setValueState(sap.ui.core.ValueState.None),window.flag4=0}else window.view.getController().hideTimes3(),window.view.getController().hideTimes4(),window.btnadd2.setVisible(!0),window.beg3.setValue(""),window.end3.setValue(""),window.beg3.setValueState(sap.ui.core.ValueState.None),window.end3.setValueState(sap.ui.core.ValueState.None),window.flag3=0;this.handleAutoSave(1)},handleDelbreak4:function(){window.view.getController().hideTimes4(),window.btnadd3.setVisible(!0),window.beg4.setValue(""),window.end4.setValue(""),window.beg4.setValueState(sap.ui.core.ValueState.None),window.end4.setValueState(sap.ui.core.ValueState.None),window.flag4=0,this.handleAutoSave(1)},disableTimes1:function(){window.beg1.setEnabled(!1),window.end1.setEnabled(!1),window.btndel1.setEnabled(!1),window.btnadd1.setEnabled(!1)},disableTimes2:function(){window.beg2.setEnabled(!1),window.end2.setEnabled(!1),window.btndel2.setEnabled(!1),window.btnadd2.setEnabled(!1)},disableTimes3:function(){window.beg3.setEnabled(!1),window.end3.setEnabled(!1),window.btndel3.setEnabled(!1),window.btnadd3.setEnabled(!1)},disableTimes4:function(){window.beg4.setEnabled(!1),window.end4.setEnabled(!1),window.btndel4.setEnabled(!1)},enableTimes1:function(){window.beg1.setEnabled(!0),window.end1.setEnabled(!0),window.btndel1.setEnabled(!0),window.btnadd1.setEnabled(!0)},enableTimes2:function(){window.beg2.setEnabled(!0),window.end2.setEnabled(!0),window.btndel2.setEnabled(!0),window.btnadd2.setEnabled(!0)},enableTimes3:function(){window.beg3.setEnabled(!0),window.end3.setEnabled(!0),window.btndel3.setEnabled(!0),window.btnadd3.setEnabled(!0)},enableTimes4:function(){window.beg4.setEnabled(!0),window.end4.setEnabled(!0),window.btndel4.setEnabled(!0)},showTimes1:function(){window.beg1.setVisible(!0),window.end1.setVisible(!0),window.btndel1.setVisible(!0),window.btnadd1.setVisible(!0)},showTimes2:function(){window.beg2.setVisible(!0),window.end2.setVisible(!0),window.btndel2.setVisible(!0),window.btnadd2.setVisible(!0),window.blankln2.setVisible(!0)},showTimes3:function(){window.beg3.setVisible(!0),window.end3.setVisible(!0),window.btndel3.setVisible(!0),window.btnadd3.setVisible(!0),window.blankln3.setVisible(!0)},showTimes4:function(){window.beg4.setVisible(!0),window.end4.setVisible(!0),window.btndel4.setVisible(!0),window.blankln4.setVisible(!0)},showAbsHours:function(){window.abs.setVisible(!0),window.labs.setVisible(!0)},hideTimes1:function(){window.beg1.setVisible(!1),window.end1.setVisible(!1),window.btndel1.setVisible(!1),window.btnadd1.setVisible(!1)},hideTimes2:function(){window.beg2.setVisible(!1),window.end2.setVisible(!1),window.btndel2.setVisible(!1),window.btnadd2.setVisible(!1)},hideTimes3:function(){window.beg3.setVisible(!1),window.end3.setVisible(!1),window.btndel3.setVisible(!1),window.btnadd3.setVisible(!1),window.blankln3.setVisible(!1)},hideTimes4:function(){window.beg4.setVisible(!1),window.end4.setVisible(!1),window.btndel4.setVisible(!1),window.blankln4.setVisible(!1)},hideAbsHours:function(){window.abs.setVisible(!1),window.labs.setVisible(!1)},loadData:function(e){"X"===e.TimesReadonly?(window.flx.setEnabled(!1),window.pts.setEnabled(!1),window.abs.setEnabled(!1),window.balAdj.setEnabled(!1),this.getView().byId("btnNeg").setEnabled(!1),this.getView().byId("btnPos").setEnabled(!1),window.cashO.setEnabled(!1),window.sup.setEnabled(!1),window.empcomm.setEnabled(!1),window.view.getController().disableTimes1(),window.view.getController().disableTimes2(),window.view.getController().disableTimes3(),window.view.getController().disableTimes4()):"X"===e.FutureFlxPts?("X"===e.PtsRead&&"0.00"!==e.Std&&"0.00"===e.Lve||"X"===e.Pts?(window.pts.setEnabled(!0),window.pts.setVisible(!0)):(window.pts.setEnabled(!1),window.pts.setVisible(!1)),"X"===e.FxaRead&&"0.00"!==e.Std&&"0.00"===e.Lve||"X"===e.Fxa?(window.flx.setEnabled(!0),window.flx.setVisible(!0)):(window.flx.setEnabled(!1),window.flx.setVisible(!1)),window.abs.setEnabled(!1),window.balAdj.setEnabled(!1),this.getView().byId("btnNeg").setEnabled(!1),this.getView().byId("btnPos").setEnabled(!1),window.cashO.setEnabled(!1),window.sup.setEnabled(!1),window.empcomm.setEnabled(!1),window.view.getController().disableTimes1(),window.view.getController().disableTimes2(),window.view.getController().disableTimes3(),window.view.getController().disableTimes4()):(window.flx.setEnabled(!0),window.pts.setEnabled(!0),window.abs.setEnabled(!0),window.balAdj.setEnabled(!0),this.getView().byId("btnNeg").setEnabled(!0),this.getView().byId("btnPos").setEnabled(!0),window.cashO.setEnabled(!0),window.empcomm.setEnabled(!0),window.sup.setEnabled(!0),window.view.getController().enableTimes1(),window.view.getController().enableTimes2(),window.view.getController().enableTimes3(),window.view.getController().enableTimes4(),"X"===e.PtsRead&&"0.00"!==e.Std&&"0.00"===e.Lve||"X"===e.Pts?(window.pts.setEnabled(!0),window.pts.setVisible(!0)):(window.pts.setEnabled(!1),window.pts.setVisible(!1)),"X"===e.AbsRead?(window.abs.setEnabled(!0),window.abs.setVisible(!0)):(window.abs.setEnabled(!1),window.abs.setVisible(!1)),"X"===e.FxaRead&&"0.00"!==e.Std&&"0.00"===e.Lve||"X"===e.Fxa?(window.flx.setEnabled(!0),window.flx.setVisible(!0)):(window.flx.setEnabled(!1),window.flx.setVisible(!1)),"X"===e.Noinput&&(window.view.getController().disableTimes1(),window.view.getController().disableTimes2(),window.view.getController().disableTimes3(),window.view.getController().disableTimes4())),""===e.Flxen&&""===e.Fcoen?(window.labelbalAdj.setVisible(!1),window.balAdj.setVisible(!1),this.getView().byId("btnNeg").setVisible(!1),this.getView().byId("btnPos").setVisible(!1),window.labelemp.setVisible(!1),window.empcomm.setVisible(!1),window.sup.setVisible(!1),window.supcomm.setVisible(!1),window.labelsup.setVisible(!1),this.getView().byId("idCashO").setVisible(!1),this.getView().byId("label3a").setVisible(!1),this.getView().byId("idCashOut").setVisible(!1)):(window.balAdj.setVisible(!0),window.labelbalAdj.setVisible(!0),this.getView().byId("btnNeg").setVisible(!0),this.getView().byId("btnPos").setVisible(!0),window.labelemp.setVisible(!0),window.empcomm.setVisible(!0),window.sup.setVisible(!0),window.supcomm.setVisible(!0),window.labelsup.setVisible(!0),this.getView().byId("idCashO").setVisible(!0),this.getView().byId("label3a").setVisible(!0),this.getView().byId("idCashOut").setVisible(!0)),"X"!==e.FlxcoHide&&""!==e.Fcoen||(this.getView().byId("idCashO").setVisible(!1),this.getView().byId("label3a").setVisible(!1),this.getView().byId("idCashOut").setVisible(!1)),""===e.Flxen?(window.labelbalAdj.setVisible(!1),window.balAdj.setVisible(!1),this.getView().byId("btnNeg").setVisible(!1),this.getView().byId("btnPos").setVisible(!1),window.empcomm.setVisible(!1),window.sup.setVisible(!1),window.supcomm.setVisible(!1),window.labelsup.setVisible(!1)):(window.labelbalAdj.setVisible(!0),window.balAdj.setVisible(!0),this.getView().byId("btnNeg").setVisible(!0),this.getView().byId("btnPos").setVisible(!0),window.empcomm.setVisible(!0),window.sup.setVisible(!0),window.supcomm.setVisible(!0),window.labelsup.setVisible(!0)),""===e.Resn2?(window.supcomm.setVisible(!1),window.labelsup.setVisible(!1)):(window.supcomm.setVisible(!0),window.labelsup.setVisible(!0));var t="Opening Balance Hours: "+this.decimalToTimeString(e.Flxop)+"        Closing Balance Hours: "+this.decimalToTimeString(e.Flxbl);window.header2.setTitle(t),window.sup.setValue(e.Apname),window.cashO.setSelectedKey(e.Flxci),window.flx.setSelected(e.Fxa),window.pts.setSelected(e.Pts),!1===window.btnAdd1&&!1===window.btnAdd2&&!1===window.btnAdd3?("000000"===e.Bga||"000000"===e.Eda?(window.beg1.setValue(""),window.end1.setValue(""),window.btnadd1.setVisible(!0),window.flag1=0):(window.flag1=1,window.btnadd1.setVisible(!0)),"000000"===e.Bgb||""===e.Bgb?(window.beg2.setValue(""),window.end2.setValue(""),window.view.getController().hideTimes2(),window.flag2=0):(window.view.getController().showTimes2(),window.btnadd1.setVisible(!1),window.flag2=1),"000000"===e.Bgc||""===e.Bgc?(window.beg3.setValue(""),window.end3.setValue(""),window.view.getController().hideTimes3(),window.flag3=0,"000000"!==e.Bgb?window.btnadd2.setVisible(!0):window.btnadd2.setVisible(!1)):(window.view.getController().showTimes3(),window.btnadd2.setVisible(!1),window.flag3=1),"000000"===e.Bgd||""===e.Bgd?(window.beg4.setValue(""),window.end4.setValue(""),window.view.getController().hideTimes4(),window.flag4=0,window.view.getController().hideAbsHours(),"000000"!==e.Bgc&&""!==e.Bgc?window.btnadd3.setVisible(!0):window.btnadd3.setVisible(!1)):(window.view.getController().showTimes4(),window.btnadd3.setVisible(!1),window.flag4=1,window.view.getController().showAbsHours())):(window.view.getController().hideAbsHours(),"000000"!==e.Bga&&""!==e.Bga||(window.beg1.setValue(""),window.end1.setValue("")),"000000"!==e.Bgb&&""!==e.Bgb||(window.beg2.setValue(""),window.end2.setValue("")),"000000"!==e.Bgc&&""!==e.Bgc||(window.beg3.setValue(""),window.end3.setValue("")),"000000"!==e.Bgd&&""!==e.Bgd||(window.beg4.setValue(""),window.end4.setValue(""))),this.multipleEventsSetToFalse(),"0.00"!==e.Abs&&window.view.getController().showAbsHours(),"0.00"!==e.Oth?(window.oth.setVisible(!0),window.loth.setVisible(!0)):(window.oth.setVisible(!1),window.loth.setVisible(!1)),"X"===e.SubmitVis?window.submit.setEnabled(!0):window.submit.setEnabled(!1),"X"===e.SaveVis?window.save.setEnabled(!0):window.save.setEnabled(!1),window.headerTxt.setTitle(e.HeaderText);var i=window.view.byId("weeklyCalendar"),a=i.getSelectedDates(),n=a.length;if(n>1){n-=1;var s=e.Attendtext+" and "+n+" more day(s) selected.";window.attndTxt.setText(s)}window.abs.setValue(this.decimalToTimeString(e.Abs)),window.lve.setText(this.decimalToTimeString(e.Lve)),window.std.setText(this.decimalToTimeString(e.Std)),window.tot.setText(this.decimalToTimeString(e.Ttl)),window.flxb.setText(this.decimalToTimeString(e.Fbl)),window.oth.setText(this.decimalToTimeString(e.Oth)),""!==e.Flxad&&"0.00"!==e.Flxad&&"-0.00"!==e.Flxad?window.balAdj.setValue(this.convertBalAdjUiFormat(this.decimalToTimeString(e.Flxad))):(window.balAdj.setValue(""),this.getView().byId("btnPos").setType(),this.getView().byId("btnPos").setPressed(!1),this.getView().byId("btnNeg").setType(),this.getView().byId("btnNeg").setPressed(!1)),window.casho.setText(this.decimalToTimeString(e.Flxco))},handleMultipleEvents:function(){!0===this.getView().byId("btnAdd1")._bActive?window.btnAdd1=!0:window.btnAdd1=!1,!0===this.getView().byId("btnAdd2")._bActive?window.btnAdd2=!0:window.btnAdd2=!1,!0===this.getView().byId("btnAdd3")._bActive?window.btnAdd3=!0:window.btnAdd3=!1,!0===this.getView().byId("btnDel1")._bActive?window.btnDel1=!0:window.btnDel1=!1,!0===this.getView().byId("btnDel2")._bActive?window.btnDel2=!0:window.btnDel2=!1,!0===this.getView().byId("btnDel3")._bActive?window.btnDel3=!0:window.btnDel3=!1,!0===this.getView().byId("btnDel3")._bActive?window.btnDel4=!0:window.btnDel4=!1,!0===this.getView().byId("idSubmit")._bActive?window.btnSubmit=!0:window.btnSubmit=!1,!0===this.getView().byId("idPdf")._bActive?window.btnOverview=!0:window.btnOverview=!1,!0===this.getView().byId("idPeriod")._bActive?window.btnPeriod=!0:window.btnPeriod=!1},multipleEventsSetToFalse:function(){window.btnAdd1=!1,window.btnAdd2=!1,window.btnAdd3=!1,window.btnDel1=!1,window.btnDel2=!1,window.btnDel3=!1,window.btnDel4=!1,window.btnSubmit=!1,window.btnOverview=!1,window.btnPeriod=!1},handleChange:function(e){var t=e.getSource().getId(),i=t.slice(-1),a="idBeg"+i,n="idEnd"+i,s=this.getView().byId(a).getValue(),d=this.getView().byId(n).getValue();if(!(""===s&&d||s&&""===d)){!0===this.checkInputTimes(i)&&(this.handleMultipleEvents(),this.handleAutoSave())}},checkInputTimes:function(e){var t,i="idBeg"+e,a="idEnd"+e,n=this.getView().byId(i).getValue(),s=this.getView().byId(a).getValue();if(-1!==n.indexOf("-")||-1!==s.indexOf("-"))sap.m.MessageToast.show("Invalid input time format"),t=!1;else if(n&&s){var d=this.timeStringToSeconds(s)-this.timeStringToSeconds(n);if(d<0)sap.m.MessageToast.show("Start Time cannot be less than End Time"),t=!1;else{var o=this.checkOverlapTimes(),l=this.isTimesInOrder(),w=this.checkOverlapTimesWithLeave(),r=this.checkOverlapTimesWithOverTime();o||l||w||r?(!0===o&&sap.m.MessageToast.show("Times Overlapped"),!0===l&&sap.m.MessageToast.show("Times are not in Sequential Order"),!0===l&&!0===o&&sap.m.MessageToast.show("Times are not in Sequential Order and Overlapped"),!0===w&&sap.m.MessageToast.show("Times are in collision with Leave"),!0===r&&sap.m.MessageToast.show("Times are in collision with Overtime"),t=!1):t=!0}}else""===n&&s||n&&""===s?(sap.m.MessageToast.show("Enter Time value"),t=!1):(this.getView().byId(i).setValueState(sap.ui.core.ValueState.None),this.getView().byId(a).setValueState(sap.ui.core.ValueState.None),t="");return!1===t?(this.getView().byId(i).setValueState(sap.ui.core.ValueState.Error),this.getView().byId(a).setValueState(sap.ui.core.ValueState.Error)):!0===t&&(this.getView().byId(i).setValueState(sap.ui.core.ValueState.Success),this.getView().byId(a).setValueState(sap.ui.core.ValueState.Success)),t},timeStringToSeconds:function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(e.substring(i,i+2));return 60*+t[0]*60+60*+t[1]+ +t[2]},timeStringToMinutes:function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(e.substring(i,i+2));return 60*+t[0]+ +t[1]},timeStringToArray:function(){for(var e=[],t=1;t<=4;t++){var i="idBeg"+t,a="idEnd"+t,n=this.getView().byId(i).getValue(),s=this.getView().byId(a).getValue();if(n&&s){var d={startTime:n,endTime:s};e.push(d)}}return e},timeStringToDecimal:function(e){var t,i;e.length&&"-"===e[0]?(t=e.replace(/^\\-/,""),i="-"):(i="",t=e),t=t.replace(/ /g,"");var a=t.split(/[.:]/);return"--"!==a[0]&&""!==a[0]||(a[0]="00"),"--"!==a[1]&&""!==a[1]||(a[1]="00"),i+(parseInt(a[0],10)+(a[1]?parseInt(a[1],10):0)/60).toFixed(4)},decimalToTimeString:function(e){var t=e<0?"-":"",i=Math.floor(Math.abs(e)),a=Math.floor(Math.round(60*Math.abs(e)%60));return t+(i<10?"0":"")+i+":"+(a<10?"0":"")+a},checkOverlapping:function(e,t){var i=this.timeStringToMinutes(e.startTime),a=this.timeStringToMinutes(e.endTime),n=this.timeStringToMinutes(t.startTime),s=this.timeStringToMinutes(t.endTime);return a>n&&s>i},checkOverlapTimes:function(){var e,t,i=this.timeStringToArray();for(e=0;e<i.length-1;e++)for(t=e+1;t<i.length;t++)if(this.checkOverlapping(i[e],i[t]))return!0;return!1},checkTimeOrder:function(e,t){var i=this.timeStringToMinutes(e.startTime),a=this.timeStringToMinutes(e.endTime),n=this.timeStringToMinutes(t.startTime),s=this.timeStringToMinutes(t.endTime);return i>n&&a>s},isTimesInOrder:function(){var e,t,i=this.timeStringToArray();for(e=0;e<i.length-1;e++)for(t=e+1;t<i.length;t++)if(this.checkTimeOrder(i[e],i[t]))return!0;return!1},changeStatusToNone:function(){for(var e=1;e<=4;e++){var t="idBeg"+e,i="idEnd"+e;this.getView().byId(t).setValueState(sap.ui.core.ValueState.None),this.getView().byId(i).setValueState(sap.ui.core.ValueState.None)}this.getView().byId("idEmpComm").setValueState(sap.ui.core.ValueState.None),this.getView().byId("idBalAdj").setValueState(sap.ui.core.ValueState.None),this.getView().byId("idAbs").setValueState(sap.ui.core.ValueState.None)},lveStringToArray:function(e){var t=[],i=[];t=e.replace(/[\', ]/g,"").split("|");for(var a=0;a<t.length;a++){var n=t[a].replace(/[\', ]/g,"").split("-"),s=n[0],d=n[1];if(s&&d){var o={startTime:s,endTime:d};i.push(o)}}return i},checkOverlapTimesWithLeave:function(){var e,t,i=this.lveStringToArray(data.Lvetimes),a=this.timeStringToArray();for(e=0;e<i.length;e++)for(t=0;t<a.length;t++)if(this.checkOverlapping(i[e],a[t]))return!0;return!1},otStringToArray:function(e){var t=[],i=[];t=e.replace(/[\', ]/g,"").split("|");for(var a=0;a<t.length;a++){var n=t[a].replace(/[\', ]/g,"").split("-"),s=n[0],d=n[1];if(s&&d){var o={startTime:s,endTime:d};i.push(o)}}return i},checkOverlapTimesWithOverTime:function(){var e,t,i=this.otStringToArray(data.Ottimes),a=this.timeStringToArray();for(e=0;e<i.length;e++)for(t=0;t<a.length;t++)if(this.checkOverlapping(i[e],a[t]))return!0;return!1},onNavBack:function(){void 0!==History.getInstance().getPreviousHash()?window.history.go(-1):sap.ushell.Container.getService("CrossApplicationNavigation").toExternal({target:{semanticObject:""}})},handleBalAdjHours:function(){var e=this.checkBalAdjHours();!0!==e&&""!==e||(this.handleMultipleEvents(),this.handleAutoSave())},checkBalAdjHours:function(){var e=window.balAdj.getValue(),t="";if(-1!==e.indexOf("_")&&(sap.m.MessageToast.show("Invalid Format - Use  HH:mm Format"),t=!1),!1!==t){var i=this.getView().byId("idEmpComm").getValue();""===e||"000000"===e||"00:00"===e?t="":""===i||""===e&&"000000"===e&&"00:00"===e?(sap.m.MessageToast.show("Fill in Employee Comments"),t=!1):t=!0,!1===t?this.getView().byId("idEmpComm").setValueState(sap.ui.core.ValueState.Error):this.getView().byId("idEmpComm").setValueState(sap.ui.core.ValueState.None)}return t},onPressTb:function(e){var t=e.getSource().getId(),i=this.getView().byId("idEmpComm").getValue(),a=this.checkBalAdjHours();if(""!==a)-1!==t.indexOf("btnNeg")&&(this.getView().byId("btnNeg").setPressed(!0),this.getView().byId("btnNeg").setType("Reject"),this.getView().byId("btnPos").setPressed(!1),this.getView().byId("btnPos").setType()),-1!==t.indexOf("btnPos")&&(this.getView().byId("btnNeg").setPressed(!1),this.getView().byId("btnNeg").setType(),this.getView().byId("btnPos").setPressed(!0),this.getView().byId("btnPos").setType("Accept"));else{var n=this.getView().byId("btnPos").getPressed(),s=this.getView().byId("btnNeg").getPressed();!0===n?(this.getView().byId("btnPos").setType("Accept"),this.getView().byId("btnNeg").setType(),\nthis.getView().byId("btnNeg").setPressed(!1)):this.getView().byId("btnPos").setType(),!0===s?(this.getView().byId("btnNeg").setType("Reject"),this.getView().byId("btnPos").setType(),this.getView().byId("btnPos").setPressed(!1)):this.getView().byId("btnNeg").setType()}!0===a&&i&&this.handleAutoSave()},convertBalAdjInternalFormat:function(e){if(!0===this.getView().byId("btnNeg").getPressed())return"-"+e;return e},convertBalAdjUiFormat:function(e){var t=e.replace(/^\\-/,"");return"-"===e[0]?(this.getView().byId("btnNeg").setPressed(!0),this.getView().byId("btnNeg").setType("Reject"),this.getView().byId("btnPos").setPressed(!1),this.getView().byId("btnPos").setType()):(this.getView().byId("btnNeg").setPressed(!1),this.getView().byId("btnNeg").setType(),this.getView().byId("btnPos").setPressed(!0),this.getView().byId("btnPos").setType("Accept")),t=t.replace(/ /g,"")},handleEmpComments:function(e){var t=window.balAdj.getValue(),i=e.getParameter("newValue");t&&""===i?(sap.m.MessageToast.show("Fill in Employee Comments"),this.getView().byId("idEmpComm").setValueState(sap.ui.core.ValueState.Error)):(this.getView().byId("idEmpComm").setValueState(sap.ui.core.ValueState.None),this.handleMultipleEvents(),this.handleAutoSave())},handleInputAbsHours:function(e){var t=e.getParameter("newValue"),i=t.replace(/-/g,"0");window.abs.setValue(i),this.getView().byId("idAbs").setValueState(sap.ui.core.ValueState.Success),this.handleMultipleEvents(),this.handleAutoSave()},handleFlxSelect:function(){this.handleAutoSave()},handlePtDaySwap:function(){this.handleAutoSave()},handleCashOutSelection:function(){this.handleAutoSave()},checkBeforeSubmitNew:function(){var e,t,i="",a="",n="";data.TermDate&&(t=data.TermDate);for(var s=data,d=1;d<=28;d++){e=d<=9?"0"+d:d;var o="Dte"+e,l="Bga"+e,w="Eda"+e,r="Pts"+e,b="Fxa"+e,g="Abs"+e,u="Lve"+e,p="Std"+e,m="FxaRead"+e;if(window.oEntry.Dte===s[o]&&!0===window.btnSubmit&&(s[l]=window.oEntry.Bga,s[w]=window.oEntry.Eda,s[g]=window.oEntry.Abs,s[r]=window.oEntry.Pts,s[b]=window.oEntry.Fxa),!("000000"!==s[l]&&""!==s[l]||"000000"!==s[w]&&""!==s[w]||"0.00"!==s[g]&&""!==s[g]||"0.00"!==s[u]&&""!==s[u]||"X"===s[r]||"X"===s[b]||"0.00"===s[p]||"X"!==s[m])){var h=this.getUiDate(s[o]);if(t){var c=this.getUiDate(t);h.setHours(0,0,0,0)<=c.setHours(0,0,0,0)&&(n=!0)}else{var y=new Date;this.getUiDate(y).setHours(0,0,0,0)>=h.setHours(0,0,0,0)?i=!0:a=!0}}}return t?!0===n?(MessageBox.error("This timesheet is incomplete till termination date and cannot be submitted ",{title:"Error"}),data.TermDate=null,window.data.termdate=null,!1):(data.TermDate=t,window.data.termdate=t,!0):!0===i&&"X"===data.PendingTs?(MessageBox.error(" Unable to submit timesheet: All previous timesheets must be approved and this timesheet is incomplete and cannot be submitted",{title:"Error"}),!1):"X"===data.PendingTs?(MessageBox.error("Unable to submit timesheet: All previous timesheets must be approved",{title:"Error"}),!1):!0===i?(MessageBox.error("This timesheet is incomplete and cannot be submitted",{title:"Error"}),!1):!0===a?(this.dialogOpen(),!1):""===i&&""===data.PendingTs&&""===a||void 0},getUiDate:function(e){var t=sap.ui.core.format.DateFormat.getDateInstance({pattern:"dd/MM/yyyy"}),i=new Date(e),a=t.format(i),n=a.split("/");return new Date(n[2],n[1]-1,n[0])},fireMutlipleEvent:function(){!0===window.btnAdd1&&this.getView().byId("btnAdd1").firePress(),!0===window.btnAdd2&&this.getView().byId("btnAdd2").firePress(),!0===window.btnAdd3&&this.getView().byId("btnAdd3").firePress(),!0===window.btnSubmit&&this.getView().byId("idSubmit").firePress(),!0===window.btnOverview&&this.getView().byId("idPdf").firePress(),!0===window.btnPeriod&&this.getView().byId("idPeriod").firePress()},handleAutoSave:function(e){var t="";if(1===e)for(var i=4;i>=1&&!1!==(t=this.checkInputTimes(i));i--);if(!0===t||""===t){var a=window.view.byId("weeklyCalendar"),n=a.getSelectedDates();window.view.getController().getdata();var s=new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZHR_TIMESHEET_UI5_SRV/",!1);s.setUseBatch(!0);var d=[];if(0!==n.length){for(var o=0;o<n.length;o++){var l=n[o].getStartDate();l=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-ddTHH:mm:ss"}).format(new Date(l)),window.oEntry.Dte=l;var w=window.data.Begda.replace(/:/g,"%3A"),r=window.data.Endda.replace(/:/g,"%3A");l=l.replace(/:/g,"%3A");var b="/TimesheetSet(Pernr=\'"+window.data.Pernr+"\',Subty=\'"+window.data.Subty+"\',Objps=\'"+window.data.Objps+"\',Begda=datetime\'"+w+"\',Endda=datetime\'"+r+"\',Sprps=\'"+window.data.Sprps+"\',Seqnr=\'"+window.data.Seqnr+"\',Dte=datetime\'"+l+"\')";d.push(s.createBatchOperation(b,"PUT",window.oEntry))}s.addBatchChangeOperations(d),this._oBusyDialog&&this._oBusyDialog.close(),this._oBusyDialog=new sap.m.BusyDialog,this._oBusyDialog.open();var g=this;s.submitBatch(function(e){if(s.refresh(),e.__batchResponses[0].__changeResponses){s.refresh(),g.getView().getElementBinding().refresh(!0);var t=$(e.__batchResponses[0].__changeResponses[0].headers["sap-message"]).find("message").first().text();if(t){g.multipleEventsSetToFalse();var i=new sap.m.Dialog({title:"Auto Saved with Warning",type:"Message",state:"Warning",content:[new sap.m.Text({text:t})]});i.open(),i.addButton(new sap.m.Button({text:"OK",press:function(){i.close(),g._oBusyDialog&&g._oBusyDialog.close()}}))}else g.fireMutlipleEvent();g._oBusyDialog&&g._oBusyDialog.close()}else{g.multipleEventsSetToFalse(),sap.m.MessageToast.show(e.__batchResponses[0].message);var a=$(e.__batchResponses[0].response.body).find("message").first().text(),n=new sap.m.Dialog({title:"Update failed",type:"Message",state:"Error",content:[new sap.m.Text({text:a})]});n.open(),n.addButton(new sap.m.Button({text:"OK",press:function(){n.close(),g._oBusyDialog&&g._oBusyDialog.close()}})),g._oBusyDialog&&g._oBusyDialog.close()}},function(e){g.multipleEventsSetToFalse(),g._oBusyDialog&&g._oBusyDialog.close()})}}},dialogOpen:function(e){this.dialog||(this.dialog=sap.ui.xmlfragment("idfragment","ZHR_TIMESHEET_UI5.view.TerminationDate",this),this.getView().addDependent(this.dialog));var t=sap.ui.getCore().byId("idfragment--idTb1F"),i=sap.ui.getCore().byId("idfragment--idDp1F"),a=sap.ui.getCore().byId("idfragment--idLb2F");t.setPressed(!1),i.setVisible(!1),i.setValue(null),a.setVisible(!1),jQuery.sap.syncStyleClass("sapUiSizeCompact",this.getView(),this.dialog),window.termdate=sap.ui.getCore().byId("idfragment--idDp1F"),this.dialog.open()},onPress:function(e){var t=sap.ui.getCore().byId("idfragment--idBtn1f"),i=sap.ui.getCore().byId("idfragment--idDp1F"),a=sap.ui.getCore().byId("idfragment--idLb2F");e.getSource().getPressed()?(t.setEnabled(!0),i.setVisible(!0),a.setVisible(!0),i.setMinDate(new Date(data.CurrentSpbegda)),i.setMaxDate(new Date(data.CurrentSpendda))):(t.setEnabled(!1),i.setVisible(!1),a.setVisible(!1))},handleChangeTerminationDate:function(e){var t=e.getSource().getValue(),i=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"}),a=new Date(t);data.TermDate=i.format(a)+"T00:00:00"},onDialogCloseButton:function(e){window.termdate=null,data.TermDate=null,this.dialog.close()},onDialogSaveButton:function(e){data.TermDate=window.termdate.getValue()," "!==data.TermDate&&null!==data.TermDate&&(this.dialog.close(),this.handleSubmitDetails())},handleDateChange:function(e){var t=e.getSource().getSelectedDates(),i=t.length;i>0&&(i-=1),0===t.length?e.getSource().removeAllSelectedDates():window.date=t[i].getStartDate(),window.view.getController().getdata(),window.view.getController().changedate(window.date),this.changeStatusToNone()},handleSaveDetails:function(){for(var e="",t=4;t>=1&&!1!==(e=this.checkInputTimes(t));t--);var i=this.checkBalAdjHours();if(!(!0!==e&&""!==e||!0!==i&&""!==i)){var a=window.view.byId("weeklyCalendar"),n=a.getSelectedDates();window.view.getController().getdata();var s=new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZHR_TIMESHEET_UI5_SRV/",!1);s.setUseBatch(!0);var d=[];if(0!==n.length){for(var o=0;o<n.length;o++){var l=n[o].getStartDate();l=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-ddTHH:mm:ss"}).format(new Date(l)),window.oEntry.Dte=l;var w=window.data.Begda.replace(/:/g,"%3A"),r=window.data.Endda.replace(/:/g,"%3A");l=l.replace(/:/g,"%3A");var b="/TimesheetSet(Pernr=\'"+window.data.Pernr+"\',Subty=\'"+window.data.Subty+"\',Objps=\'"+window.data.Objps+"\',Begda=datetime\'"+w+"\',Endda=datetime\'"+r+"\',Sprps=\'"+window.data.Sprps+"\',Seqnr=\'"+window.data.Seqnr+"\',Dte=datetime\'"+l+"\')";d.push(s.createBatchOperation(b,"PUT",window.oEntry))}this._oBusyDialog&&this._oBusyDialog.close(),s.addBatchChangeOperations(d),this._oBusyDialog=new sap.m.BusyDialog,this._oBusyDialog.open();var g=this;s.submitBatch(function(e){if(e.__batchResponses[0].__changeResponses){sap.m.MessageToast.show("Updated "+e.__batchResponses[0].__changeResponses.length+" Record(s)"),g.getView().getElementBinding().refresh(!0);var t=$(e.__batchResponses[0].__changeResponses[0].headers["sap-message"]).find("message").first().text();if(t){var i=new sap.m.Dialog({title:"Saved with Warning",type:"Message",state:"Warning",content:[new sap.m.Text({text:t})]});i.open(),i.addButton(new sap.m.Button({text:"OK",press:function(){i.close(),g._oBusyDialog&&g._oBusyDialog.close()}}))}g._oBusyDialog&&g._oBusyDialog.close()}else{sap.m.MessageToast.show(e.__batchResponses[0].message);var a=$(e.__batchResponses[0].response.body).find("message").first().text(),n=new sap.m.Dialog({title:"Update failed",type:"Message",state:"Error",content:[new sap.m.Text({text:a})]});n.open(),n.addButton(new sap.m.Button({text:"OK",press:function(){n.close(),g._oBusyDialog&&g._oBusyDialog.close()}})),g.getView().getElementBinding().refresh(!0),g._oBusyDialog&&g._oBusyDialog.close()}},function(e){g._oBusyDialog&&g._oBusyDialog.close()})}}},handleSubmitDetails:function(){var e=window.view.byId("weeklyCalendar"),t=e.getSelectedDates();if(window.view.getController().getdata(),!0===this.checkBeforeSubmitNew()){var i=new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZHR_TIMESHEET_UI5_SRV/",!1);i.setUseBatch(!0);var a=[];if(0!==t.length){for(var n=0;n<t.length;n++){var s=t[n].getStartDate();s=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-ddTHH:mm:ss"}).format(new Date(s)),window.oEntry.Dte=s;var d=window.data.Begda.replace(/:/g,"%3A"),o=window.data.Endda.replace(/:/g,"%3A");s=s.replace(/:/g,"%3A");var l="/TimesheetSet(Pernr=\'"+window.data.Pernr+"\',Subty=\'"+window.data.Subty+"\',Objps=\'01\',Begda=datetime\'"+d+"\',Endda=datetime\'"+o+"\',Sprps=\'"+window.data.Sprps+"\',Seqnr=\'"+window.data.Seqnr+"\',Dte=datetime\'"+s+"\')";a.push(i.createBatchOperation(l,"PUT",window.oEntry))}this._oBusyDialog&&this._oBusyDialog.close(),i.addBatchChangeOperations(a),this._oBusyDialog=new sap.m.BusyDialog,this._oBusyDialog.open();var w=this;i.submitBatch(function(e){if(e.__batchResponses[0].__changeResponses)sap.m.MessageToast.show("Updated and Submitted "+e.__batchResponses[0].__changeResponses.length+" Record(s)"),w.getView().getElementBinding().refresh(!0),w._oBusyDialog&&w._oBusyDialog.close();else{var t=$(e.__batchResponses[0].response.body).find("message").first().text(),i=new sap.m.Dialog({title:"Submit failed",type:"Message",state:"Error",content:[new sap.m.Text({text:t})]});i.open(),i.addButton(new sap.m.Button({text:"OK",press:function(){i.close(),w._oBusyDialog&&w._oBusyDialog.close()}})),w.getView().getElementBinding().refresh(!0),window.termdate=null,e.TermDate=null,w._oBusyDialog&&w._oBusyDialog.close()}},function(e){w._oBusyDialog&&w._oBusyDialog.close()})}}},Read:function(e){window.view.bindElement(e)},handleChangeRange:function(e){this.changeStatusToNone(),window.calendar.removeAllSelectedDates();var t=e.getSource().getStartDate(),i=t,a=window.data.Begda,n=window.data.Endda,s=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-ddTHH:mm:ss"});t=s.format(new Date(t));var d=new Date(t);window.legbeg=d,window.legbeg=s.format(new Date(window.legbeg)),d.setDate(d.getDate()+13),window.legend=d,window.legend=s.format(new Date(window.legend)),n=s.format(new Date(n)),a=s.format(new Date(a));var o=Date.parse(i),l=new Date(o);window.calendar.focusDate(l),window.calendar.insertSelectedDate(new sap.ui.unified.DateTypeRange({startDate:l})),window.calendar.setStartDate(l);var w=window.data.Pernr,r=a,b=n,g=t,u="/TimesheetSet(Pernr=\'"+w+"\',Subty=\'00\',Objps=\'\',Begda=datetime\'"+r+"\',Endda=datetime\'"+b+"\',Sprps=\'\',Seqnr=\'000\',Dte=datetime\'"+g+"\')";window.path=u,window.view.getController().Read(u),this.getView().getElementBinding().refresh(!0)},getdata:function(){var e={};e.Dte=window.data.Dte;var t=window.flx.getSelected();e.Fxa=!0===t?"X":"";var i=window.pts.getSelected();e.Pts=!0===i?"X":"",e.Bga=window.beg1.getValue(),""===e.Bga&&(e.Bga="000000"),e.Eda=window.end1.getValue(),""===e.Eda&&(e.Eda="000000"),e.Bgb=window.beg2.getValue(),""===e.Bgb&&(e.Bgb="000000"),e.Edb=window.end2.getValue(),""===e.Edb&&(e.Edb="000000"),e.Bgc=window.beg3.getValue(),""===e.Bgc&&(e.Bgc="000000"),e.Edc=window.end3.getValue(),""===e.Edc&&(e.Edc="000000"),e.Bgd=window.beg4.getValue(),""===e.Bgd&&(e.Bgd="000000"),e.Edd=window.end4.getValue(),""===e.Edd&&(e.Edd="000000"),e.Resn1=window.empcomm.getValue(),e.Flxci=window.cashO.getSelectedKey(),e.Apname=window.sup.getValue(),e.Appernr=data.Appernr,e.Abs=window.abs.getValue(),""===e.Abs&&(e.Abs="000000"),e.Abs=this.timeStringToDecimal(e.Abs),e.Flxad=window.balAdj.getValue(),e.Flxad=this.timeStringToDecimal(this.convertBalAdjInternalFormat(e.Flxad)),data.TermDate&&(e.TermDate=data.TermDate+"T00:00:00"),window.oEntry=e},isdatachanged:function(){window.oEntry.Pts===window.data.Pts&&window.oEntry.Fxa===window.data.Fxa&&window.oEntry.Abs===window.data.Abs&&window.oEntry.Bga===window.data.Bga&&window.oEntry.Eda===window.data.Eda&&window.oEntry.Bgb===window.data.Bgb&&window.oEntry.Edb===window.data.Edb?window.change="0":window.change="1"},changedate:function(e){window.changed="0";var t=window.data.Begda,i=window.data.Endda,a=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-ddTHH:mm:ss"});e=a.format(new Date(e)),i=a.format(new Date(i)),t=a.format(new Date(t));var n=window.data.Pernr,s=t,d=i,o=e,l="/TimesheetSet(Pernr=\'"+n+"\',Subty=\'00\',Objps=\'\',Begda=datetime\'"+s+"\',Endda=datetime\'"+d+"\',Sprps=\'\',Seqnr=\'000\',Dte=datetime\'"+o+"\')";window.path=l,window.view.getController().Read(l)},handlePeriodDetails:function(){this.changeStatusToNone();var e=window.view.getController();new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZHR_TIMESHEET_UI5_SRV/",!1).read("/PeriodSet",null,null,!0,function(t,i){var a=new sap.ui.model.json.JSONModel(t),n=new sap.m.SelectDialog({title:"Select Period",items:{path:"/results",template:new sap.m.StandardListItem({title:"{Text}",description:"{Status}",adaptTitleSize:!1,active:!0})},confirm:e.helpClose,liveChange:[e.handlePeriod,this],search:[e.handlePeriod,this]});n.setModel(a),n.open()})},helpClose:function(e){var t=e.getParameter("selectedItem"),i=t.getBindingContext().getObject(),a=window.data.Begda,n=window.data.Endda,s=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-ddTHH:mm:ss"}),d=i.Value.split("."),o=d[1]+"/"+d[0]+"/"+d[2],l=s.format(new Date(o));n=s.format(new Date(n)),a=s.format(new Date(a));var w=window.data.Pernr,r=a,b=n,g=l,u="/TimesheetSet(Pernr=\'"+w+"\',Subty=\'00\',Objps=\'\',Begda=datetime\'"+r+"\',Endda=datetime\'"+b+"\',Sprps=\'\',Seqnr=\'000\',Dte=datetime\'"+g+"\')";window.path=u,window.view.getController().Read(u);var p=new Date(i.Spbeg);window.legbeg=p,window.legbeg=s.format(new Date(window.legbeg)),p.setDate(p.getDate()+13),window.legend=p,window.legend=s.format(new Date(window.legend))},handlePeriod:function(e){var t=(window.view.getController(),e.getParameter("value"));t=t.toLowerCase();var i=new sap.ui.model.Filter("Text",sap.ui.model.FilterOperator.Contains,t);e.getSource().getBinding("items").filter([i])},handleValueHelpNew:function(){var e=this,t=new sap.m.SelectDialog({title:"Delegates",noDataText:"No Delegates Found",search:e._searchAction,liveChange:e._searchAction});t.open(),t.fireSearch({value:""})},_searchAction:function(e){var t=this;if(e.getParameter("value").length>0||!isNaN(e.getParameter("value"))){var i=function(e){for(var i=0;i<e.results.length;i++)"00000000"!==e.results[i].Pernr&&""!==e.results[i].Pernr||delete e.results[i];var a=new sap.ui.model.json.JSONModel(e),n=new sap.m.StandardListItem({title:"{Name}",description:"{Pernr}",active:"true"});t.setModel(a),t.bindAggregation("items","/results",n),t.attachConfirm(function(e){var t=ZHR_TIMESHEET_UI5.utils.UIHelper.getControllerInstance(),i=e.getParameter("selectedItem"),a=new sap.ui.core.CustomData({key:"Name",value:i.getDescription()});t.byId("idSuper").removeAllCustomData(),t.byId("idSuper").addCustomData(a),t.byId("idSuper").setValue(i.getTitle()),data.Appernr!==i.getDescription()&&(data.Appernr=i.getDescription(),data.Apname=i.getTitle(),"02"===data.status&&win.submit.setEnabled(!0),t.handleAutoSave())})};ZHR_TIMESHEET_UI5.utils.DataManager.searchApprover(e.getParameter("value"),i)}},handlePdfDetails:function(){var e=this,t=(window.view.byId("weeklyCalendar"),"/PrintSet?$filter=Dte eq datetime\'"+window.data.Dte+"\'");new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZHR_TIMESHEET_UI5_SRV/",!1).read(t,null,null,!0,function(t,i){var a,n=(new sap.ui.model.json.JSONModel(t.results),"<center><h3>Flex Timesheet</h3><center><hr><p style=\'text-align:left\'><b>"+window.data.HeaderText+"</b><br><b>Status : </b>"+window.data.StatusText+"</p>"),s="<table style=\'text-align:left\' border=\'0\' cellspacing=\'0\' cellpadding=\'0\' width=\'1047\'><tbody><tr><td width=\'90\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Day</strong></p></td><td width=\'90\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Date</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Start1</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Finish1</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Start2</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Finish2</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Start3</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Finish3</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Start4</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Finish4</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Part Time Day Swap</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>All Day Flex</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Additional Absence Hours</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Leave/Public Holiday</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>OverTime Hours</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Standard Hours</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Total Hours</strong></p></td><td width=\'52\' nowrap=\'\' valign=\'bottom\'><p align=\'center\'><strong>Flex Balance</strong></p></td>";for(a=0;a<28;a++){var d=sap.ui.core.format.DateFormat.getInstance({pattern:"dd/MM/yyyy"}),o=d.format(new Date(t.results[a].Dte));if("000000"===t.results[a].Bga)t.results[a].Bga="";else{var l=t.results[a].Bga.substring(0,2),w=t.results[a].Bga.substring(2,4);t.results[a].Bga=l+":"+w}if("000000"===t.results[a].Bgb)t.results[a].Bgb="";else{var l=t.results[a].Bgb.substring(0,2),w=t.results[a].Bgb.substring(2,4);t.results[a].Bgb=l+":"+w}if("000000"===t.results[a].Bgc)t.results[a].Bgc="";else{var l=t.results[a].Bgc.substring(0,2),w=t.results[a].Bgc.substring(2,4);t.results[a].Bgc=l+":"+w}if("000000"===t.results[a].Bgd)t.results[a].Bgd="";else{var l=t.results[a].Bgd.substring(0,2),w=t.results[a].Bgd.substring(2,4);t.results[a].Bgd=l+":"+w}if("000000"===t.results[a].Eda)t.results[a].Eda="";else{var l=t.results[a].Eda.substring(0,2),w=t.results[a].Eda.substring(2,4);t.results[a].Eda=l+":"+w}if("000000"===t.results[a].Edb)t.results[a].Edb="";else{var l=t.results[a].Edb.substring(0,2),w=t.results[a].Edb.substring(2,4);t.results[a].Edb=l+":"+w}if("000000"===t.results[a].Edc)t.results[a].Edc="";else{var l=t.results[a].Edc.substring(0,2),w=t.results[a].Edc.substring(2,4);t.results[a].Edc=l+":"+w}if("000000"===t.results[a].Edd)t.results[a].Edd="";else{var l=t.results[a].Edd.substring(0,2),w=t.results[a].Edd.substring(2,4);t.results[a].Edd=l+":"+w}"000000"===t.results[a].Abs?t.results[a].Abs="":t.results[a].Abs=e.decimalToTimeString(t.results[a].Abs),"000000"===t.results[a].Lve?t.results[a].Lve="":t.results[a].Lve=e.decimalToTimeString(t.results[a].Lve),"000000"===t.results[a].Oth?t.results[a].Oth="":t.results[a].Oth=e.decimalToTimeString(t.results[a].Oth),"000000"===t.results[a].Std?t.results[a].Std="":t.results[a].Std=e.decimalToTimeString(t.results[a].Std),"000000"===t.results[a].Ttl?t.results[a].Ttl="":t.results[a].Ttl=e.decimalToTimeString(t.results[a].Ttl),"000000"===t.results[a].Fbl?t.results[a].Fbl="":t.results[a].Fbl=e.decimalToTimeString(t.results[a].Fbl);var r=" ";"00:00"===t.results[a].Std&&(r="#e5e5e5"),s+=\'<tr bgcolor= " \'+r+\'" >\',s+="<td width=\'90\' style= \'border: 1px solid black;\' valign=\'bottom\'><p align=\'center\'>"+t.results[a].Day+"</p></td><td width=\'90\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+o+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Bga+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Eda+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Bgb+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Edb+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Bgc+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Edc+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Bgd+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Edd+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Pts+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Fxa+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Abs+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Lve+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Oth+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Std+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Ttl+"</p></td><td width=\'52\' style= \'border: 1px solid black; valign=\'bottom\'><p align=\'center\'>"+t.results[a].Fbl+"</p></td></p></td></tr>"}s+="</tbody></table>";var b,g,u,d=sap.ui.core.format.DateFormat.getInstance({pattern:"dd/MM/yyyy"}),o=d.format(new Date(window.data.Apdte));g=null!==window.data.Apdte?"<b>Approval Date : </b>"+o:" ",b="<p style=\'text-align:left\'><b>Opening Balance :  </b>"+e.decimalToTimeString(window.data.Flxop)+" &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>Closing Balance :  </b>"+e.decimalToTimeString(window.data.Flxbl);var p,m=new Date,h=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyy-MM-dd"}),c=h.format(new Date(window.data.Spbeg)),y=Date.parse(c);+new Date(y)>+m&&(p="X"),""===window.data.Flxen&&""===window.data.Fcoen||"X"===p?u=b+"</p>":(b=b+"<br><b>Balance Adjustment :  </b>"+e.decimalToTimeString(window.data.Flxad)+" &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>Cash out :  </b>"+e.decimalToTimeString(window.data.Flxco),u=b+"<br><b>Employee Comments : </b>"+window.data.Resn1+"<br><b>Supervisor : </b>"+t.results[0].Super+" &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "+g+"<br><b>Supervisor Comments : </b>"+window.data.Resn2+"</p>");var V=window.open("","PrintWindow","width=1200px,height=900px,resizable=yes,scrollbars=yes");V.document.write(n+s+"<br>"+u),V.document.close(),V.focus()})}})});',
"ZHR_TIMESHEET_UI5/controller/TerminationDate.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("ZHR_TIMESHEET_UI5.controller.TerminationDate",{})});',"ZHR_TIMESHEET_UI5/Gruntfile.js":'module.exports=function(s){"use strict";s.loadNpmTasks("@sap/grunt-sapui5-bestpractice-build"),s.registerTask("default",["lint","clean","build"])};',"ZHR_TIMESHEET_UI5/model/models.js":'sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);return i.setDefaultBindingMode("OneWay"),i}}});',"ZHR_TIMESHEET_UI5/utils/DataManager.js":'jQuery.sap.declare("ZHR_TIMESHEET_UI5.utils.DataManager"),ZHR_TIMESHEET_UI5.utils.DataManager=function(){var r=null,e=null,n={};return n.exist=!0,{init:function(n,t){r=n,e=t},getBaseODataModel:function(){return r},setCachedModelObjProp:function(r,e){n[r]=e},getCachedModelObjProp:function(r){return n[r]},getApprover:function(r,n){var t=["$select=Name,Pernr"];this._getOData("DelegateSet",null,t,function(t){var a,o;try{var s=t.results;if(s instanceof Array)for(var i=0;i<s.length;i++)a=s[i].Name,o=s[i].Pernr;if(void 0===a)return void n([e.getText("LR_DD_NO_APPROVER")+" (DataManager.getApprover)"])}catch(r){return void n([e.getText("LR_DD_PARSE_ERR")+" (DataManager.getApprover)"])}r(a,o)},function(r){})},parseErrorMessages:function(r){if(!r.response||!r.response.body)return[e.getText("LR_DD_GENERIC_ERR")+r.message];try{var n=JSON.parse(r.response.body);if(n.error&&n.error.message&&n.error.message.value){var t=[];if(t.push(n.error.message.value),n.error.innererror&&n.error.innererror.errordetails&&n.error.innererror.errordetails instanceof Array){n.error.innererror.errordetails.sort(function(r){var e=1;return"-"===r[0]&&(e=-1,r=r.substr(1)),function(n,t){return(n[r]<t[r]?-1:n[r]>t[r]?1:0)*e}}("severity"));for(var a=0;a<n.error.innererror.errordetails.length;a++)if(n.error.innererror.errordetails[a].message){var o=n.error.innererror.errordetails[a].message;n.error.innererror.errordetails[a].severity&&(o+=" ("+n.error.innererror.errordetails[a].severity+")"),t.push(o)}}return t}}catch(r){jQuery.sap.log.warning("couldn\'t parse error message",["parseErrorMessages"],["DataManger"])}},searchApprover:function(r,e){var n="";isNaN(r)||(n=r),r=encodeURIComponent(r);var t=["$filter=Name eq \'"+r+"\' and Pernr eq \'"+n+"\'"];this._getOData("DelegateSet",null,t,function(r){try{r.results instanceof Array&&e(r)}catch(r){return}},function(r){})},_getOData:function(e,n,t,a,o){r.read(e,n,t,!0,function(r){a(r)},function(r){o(r)})},_postOData:function(e,n,t,a){r.create(e,n,null,t,a)},_deleteOData:function(e,n,t){var a={};a.fnSuccess=n,a.fnError=t,r.remove(e,a)}}}();',"ZHR_TIMESHEET_UI5/utils/UIHelper.js":'jQuery.sap.require("sap.ca.ui.dialog.factory"),jQuery.sap.declare("ZHR_TIMESHEET_UI5.utils.UIHelper"),ZHR_TIMESHEET_UI5.utils.UIHelper=function(){var e=null;return{setControllerInstance:function(s){e=s},getControllerInstance:function(){return e},errorDialog:function(e){var s="",a="",r="",t="";if("string"==typeof e)t={message:e,type:sap.ca.ui.message.Type.ERROR};else if(e instanceof Array){for(var n=0;n<e.length;n++)s="","string"==typeof e[n]?s=e[n]:"object"==typeof e[n]&&(s=e[n].value),s.trim(),""!==s&&(0===n?a=s:r=r+s+"\\n");t=""==r?{message:a,type:sap.ca.ui.message.Type.ERROR}:{message:a,details:r,type:sap.ca.ui.message.Type.ERROR}}sap.ca.ui.message.showMessageBox(t)}}}();',"ZHR_TIMESHEET_UI5/view/TerminationDate.fragment.xml":'<core:FragmentDefinition xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:layout="sap.ui.layout"\r\n\txmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout"><Dialog title="Information Required" class="sapUiSizeCompact" contentWidth="500px" contentHeight="300px" draggable="true" resizable="true"\r\n\t\tselect="true"><VBox class="sapUiSmallMargin"><f:SimpleForm id="idFheader" editable="true" layout="ResponsiveGridLayout" title="" singleContainerFullSize="false" labelSpanXL="3"\r\n\t\t\t\tlabelSpanL="3" labelSpanM="3" labelSpanS="6" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0"\r\n\t\t\t\tcolumnsXL="1" columnsL="1" columnsM="1"><f:content><Text id="TX1"\r\n\t\t\t\t\t\ttext="You have not completed data for all work days.If you are terminating from the Department during this settlement period please click on Yes, otherwise please click on Cancel.."\r\n\t\t\t\t\t\tdesign="bold"/><Label id="LB1" text="Are you leaving this Deparment" labelFor="idTb1F"/><ToggleButton id="idTb1F" text="Yes" press="onPress"><layoutData><l:GridData span="XL1 L4 M4 S2"/></layoutData></ToggleButton><Label id="idLb2F" text="Termination Date" visible="true" labelFor="idDp1F"/><DatePicker id="idDp1F" valueFormat="yyyy-MM-dd" displayFormat="dd.MM.yyyy" placeholder="Please Enter Termination Date" change="handleChangeTerminationDate" class="sapUiSmallMarginBottom"><layoutData><l:GridData span="XL1 L4 M4 S6"/></layoutData></DatePicker></f:content></f:SimpleForm></VBox><beginButton><Button id="idBtn1f" text="Save and Submit" enabled="false" emphasized="false" press="onDialogSaveButton"/></beginButton><endButton><Button id="idBtn2f" text="Cancel" enabled="true" press="onDialogCloseButton"/></endButton></Dialog></core:FragmentDefinition>',"ZHR_TIMESHEET_UI5/view/Master.view.xml":'<mvc:View controllerName="ZHR_TIMESHEET_UI5.controller.Master" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc"\r\n\tdisplayBlock="true" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout" xmlns:sap.me="sap.me"\r\n\txmlns:u="sap.ui.unified"><App><pages><Page id="timesheetpage" navButtonPress="onNavBack" showNavButton="true" title="{i18n>title}"><content><l:VerticalLayout><u:CalendarDateInterval id="weeklyCalendar" days="14" width="1280px" select="handleDateChange" startDateChange="handleChangeRange"\r\n\t\t\t\t\t\t\tsingleSelection="true"></u:CalendarDateInterval><u:CalendarLegend id="idLegend" Expanded="true" class="s2LEGEND" columnWidth="200px"></u:CalendarLegend></l:VerticalLayout><f:SimpleForm editable="true" layout="ResponsiveGridLayout" title="{HeaderText}" id="idAttndHeader1"><f:content><core:Title id="AttndTxt" text="{Attendtext}"/><Label id="FlxC" text=""/><CheckBox id="idFlxText" text="All Day Flex" selected="{Fxa}" select="handleFlxSelect"/><CheckBox id="idPtswap" text="Part Time Day Swap" selected="{Pts}" select="handlePtDaySwap"/><Label id="idHdrLine" text="" design="Bold"/><Text id="idStartHead" class=\'bold\' text="Start"/><Text id="idSpace2" class=\'bold\' text=""/><Text id="idEndHead" class=\'bold\' text="End"/><Text id="idSpace3" class=\'bold\' text=""/><Text id="idSpace4" class=\'bold\' text=""/><Text id="idSpace5" class=\'bold\' text=""/><Text id="idSpace6" class=\'bold\' text=""/><Label id="idBlankln1" text="" design="Bold" width="50%"/><TimePicker id="idBeg1" type="Time" value="{path:\'Bga\', type:\'sap.ui.model.type.String\'}" valueFormat="HHmmss" displayFormat="HH:mm"\r\n\t\t\t\t\t\t\t\tchange="handleChange"><layoutData><l:GridData span="XL2 L3 M4 S4"/></layoutData></TimePicker><TimePicker id="idEnd1" type="Time" value="{path:\'Eda\', type:\'sap.ui.model.type.String\'}" valueFormat="HHmmss" displayFormat="HH:mm"\r\n\t\t\t\t\t\t\t\tchange="handleChange"><layoutData><l:GridData span="XL2 L3 M4 S4"/></layoutData></TimePicker><l:HorizontalLayout id="idHorz1"><Button id="btnAdd1" icon="sap-icon://add" press="handleAddbreak1" tooltip="Add Row" /><Button id="btnDel1" icon="sap-icon://less" press="handleDelbreak1" tooltip="Delete Row"/></l:HorizontalLayout><Label id="idBlankln2" text="" design="Bold"/><TimePicker id="idBeg2" type="Time" value="{path:\'Bgb\', type:\'sap.ui.model.type.String\'}" valueFormat="HHmmss" displayFormat="HH:mm"\r\n\t\t\t\t\t\t\t\tchange="handleChange"><layoutData><l:GridData span="XL2 L3 M4 S4"/></layoutData></TimePicker><TimePicker id="idEnd2" type="Time" value="{path:\'Edb\', type:\'sap.ui.model.type.String\'}" valueFormat="HHmmss" displayFormat="HH:mm"\r\n\t\t\t\t\t\t\t\tchange="handleChange"><layoutData><l:GridData span="XL2 L3 M4 S4"/></layoutData></TimePicker><l:HorizontalLayout id="idHorz2"><Button id="btnAdd2" icon="sap-icon://add" press="handleAddbreak2" tooltip="Add Row"/><Button id="btnDel2" icon="sap-icon://less" press="handleDelbreak2" tooltip="Delete Row"/></l:HorizontalLayout><Label id="idBlankln3" text="" design="Bold"/><TimePicker id="idBeg3" type="Time" value="{path:\'Bgc\', type:\'sap.ui.model.type.String\'}" valueFormat="HHmmss" displayFormat="HH:mm"\r\n\t\t\t\t\t\t\t\tchange="handleChange"><layoutData><l:GridData span="XL2 L3 M4 S4"/></layoutData></TimePicker><TimePicker id="idEnd3" type="Time" value="{path:\'Edc\', type:\'sap.ui.model.type.String\'}" valueFormat="HHmmss" displayFormat="HH:mm"\r\n\t\t\t\t\t\t\t\tchange="handleChange"><layoutData><l:GridData span="XL2 L3 M4 S4"/></layoutData></TimePicker><l:HorizontalLayout id="idHorz3"><Button id="btnAdd3" icon="sap-icon://add" press="handleAddbreak3" tooltip="Add Row"/><Button id="btnDel3" icon="sap-icon://less" press="handleDelbreak3" tooltip="Delete Row"/></l:HorizontalLayout><Label id="idBlankln4" text="" design="Bold"/><TimePicker id="idBeg4" type="Time" value="{path:\'Bgd\', type:\'sap.ui.model.type.String\'}" valueFormat="HHmmss" displayFormat="HH:mm"\r\n\t\t\t\t\t\t\t\tchange="handleChange"><layoutData><l:GridData span="XL2 L3 M4 S4"/></layoutData></TimePicker><TimePicker id="idEnd4" type="Time" value="{path:\'Edd\', type:\'sap.ui.model.type.String\'}" valueFormat="HHmmss" displayFormat="HH:mm"\r\n\t\t\t\t\t\t\t\tchange="handleChange"><layoutData><l:GridData span="XL2 L3 M4 S4"/></layoutData></TimePicker><l:HorizontalLayout id="idHorz4"><Button id="btnDel4" icon="sap-icon://less" press="handleDelbreak4" tooltip="Delete Row"/></l:HorizontalLayout><Label id="idAbsl" text="Additional Absence Hours" design="Bold"/><TimePicker id="idAbs" valueFormat="HH:mm:ss" displayFormat="HH:mm" change="handleInputAbsHours" placeholder="Additional Hours"><layoutData><l:GridData span="XL2 L3 M4 S4"/></layoutData></TimePicker><core:Title text="Flextime totals for Day"/><Label id="idLvel" text="Leave/Public Holiday Hours" design="Bold"/><Text id="idLve" width="30%" text="{Lve}"/><Label id="idStdl" text="Standard Hours" design="Bold"/><Text id="idStd" width="30%" text="{Std}"/><Label id="idTotl" text="Total Hours" design="Bold"/><Text id="idTot" width="30%" text="{Ttl}"/><Label id="idFlxball" text="Progressive Flex Balance" design="Bold"/><Text id="idFlxbal" width="30%" text="{Fbl}"/><Label id="idOthl" text="Travel TIL/Overtime Hours" design="Bold"/><Text id="idOth" width="30%" text="{Oth}"/></f:content></f:SimpleForm><f:SimpleForm id="idHeader2" editable="true" layout="ResponsiveGridLayout" title="Info" singleContainerFullSize="true"\r\n\t\t\t\t\t\tclass="formHiddenTitle"><f:content><core:Title id="idBalTitle" text=""/><Label id="label2" text="Balance Adjustment" tooltip="Enter HH:mm Format "/><l:HorizontalLayout id="idHorz5"><ToggleButton id="btnPos" icon="sap-icon://positive" tooltip="Positive Adjustment" enabled="true" press="onPressTb" width="50px"/><ToggleButton id="btnNeg" icon="sap-icon://negative" tooltip="Negative Adjustment" enabled="true" press="onPressTb" width="50px"/><MaskInput id="idBalAdj" mask="CC:MD" placeholderSymbol="_" placeholder="HH:mm" change="handleBalAdjHours"><rules><MaskInputRule maskFormatSymbol="C" regex="[0-9]"/><MaskInputRule maskFormatSymbol="M" regex="[0-5]"/><MaskInputRule maskFormatSymbol="D" regex="[0-9]"/></rules><layoutData><l:GridData span="XL2 L2 M6 S12"/></layoutData></MaskInput></l:HorizontalLayout><Label id="label3a" text="Cash Out"/><Select id="idCashO" change="handleCashOutSelection"><core:Item key="3" text=" "/><core:Item key="0" text="No Cash-out"/><core:Item key="1" text="Reduce balance to 30 Hours"/><core:Item key="2" text="Reduce balance to 37.5 Hours"/></Select><Text id="idCashOut" width="100%" text="{Flxco}"><layoutData><l:GridData span="XL2 L2 M6 S12"/></layoutData></Text><core:Title id="idComTitle" text=""/><Label id="label4" text="Employee Comments"/><Input id="idEmpComm" value="{Resn1}" placeholder="Enter Max 50 Characters" maxLength="50" change="handleEmpComments"/><Label id="label5" text="Supervisor"/><Input id="idSuper" type="Text" showSuggestion="true" showValueHelp="true" valueHelpOnly="true" valueHelpRequest="handleValueHelpNew"/><Label id="label6" text="Supervisor Comments"/><Input id="idSupComm" value="{Resn2}"/></f:content></f:SimpleForm><core:ExtensionPoint name="extDetail"/></content><footer id="detailFooter"><Toolbar id="detailToolbar"><content><ToolbarSpacer id="toolbarSpacer"/><Button text="Submit" width="100px" id="idSubmit" type="Accept" press="handleSubmitDetails"/><Button text="Save" width="100px" id="idSave" type="Accept" press="handleSaveDetails"/><Button text="Overview" width="100px" id="idPdf" type="Accept" press="handlePdfDetails"/><Button text="Period" width="100px" id="idPeriod" type="Accept" press="handlePeriodDetails"/></content></Toolbar></footer></Page></pages></App></mvc:View>'}});